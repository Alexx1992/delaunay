<!DOCTYPE html>
<html>
  <head>
    <title>2D Delaunay Triangulation Example</title>
  </head>

  <body>
    <canvas id="canvas" width="256" height="256">
    </canvas>

    <script type="text/javascript" src="../lib/delaunay.js">
    </script>

    <script type="text/javascript">
      var canvas = document.getElementById("canvas"),
          ctx    = canvas.getContext("2d"),
          matrix = new Array(32),
          triangles, i;

      /* Randomly distribute vertices around the canvas. */
      for(i = 0; i !== matrix.length; i += 2) {
        matrix[i + 0] = Math.random() * (canvas.width  - 8) + 4;
        matrix[i + 1] = Math.random() * (canvas.height - 8) + 4;
      }

      /* Delaunay triangulate the vertices. */
      triangles = Delaunay.triangulate(2, matrix);

      /* Draw the triangles. */
      ctx.strokeStyle = "black";
      for(i = 0; i !== triangles.length; i += 3) {
        ctx.beginPath();
        ctx.moveTo(
          matrix[triangles[i + 0] * 2 + 0],
          matrix[triangles[i + 0] * 2 + 1]
        );
        ctx.lineTo(
          matrix[triangles[i + 1] * 2 + 0],
          matrix[triangles[i + 1] * 2 + 1]
        );
        ctx.lineTo(
          matrix[triangles[i + 2] * 2 + 0],
          matrix[triangles[i + 2] * 2 + 1]
        );
        ctx.stroke();
      }

      /* Draw the vertices. */
      ctx.fillStyle = "red";
      for(i = 0; i !== matrix.length; i += 2) {
        ctx.beginPath();
        ctx.arc(matrix[i + 0], matrix[i + 1], 4, 0, 2 * Math.PI, false);
        ctx.fill();
      }
    </script>
  </body>
</html>
